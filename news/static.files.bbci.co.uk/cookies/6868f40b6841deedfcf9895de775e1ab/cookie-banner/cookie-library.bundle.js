/*! For license information please see cookie-library.bundle.js.LICENSE.txt */
!function(){"use strict";var e={},o="https:"===document.location.protocol;e.IMPLICIT_FLAG="0",e.EXPLICIT_FLAG="1",e.EXPLICIT_FLAG_EU="2",e.POLICY_REFRESH_DATE_MILLIS=new Date(2015,4,21,0,0,0,0).getTime(),e.PRIVACY_COOKIE_NAME="ckns_privacy",e.EXPLICIT_COOKIE_NAME="ckns_explicit",e.POLICY_COOKIE_NAME="ckns_policy",e.CURRENT_PRIVACY_POLICY="july2019";var t={"www.int.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven","www.int.bbc.com":"https://www.int.bbc.com/cookieoven","www.test.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven","www.test.bbc.com":"https://www.test.bbc.com/cookieoven","navigation.int.api.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven","navigation.test.api.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven","navigation.int.api.bbc.com":"https://www.test.bbc.com/cookieoven","navigation.test.api.bbc.com":"https://www.test.bbc.com/cookieoven","cookies.test.api.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven"},n=["AT","AX","BE","BG","BL","CY","CZ","DE","DK","EE","ES","EU","FI","FR","GB","GF","GG","GI","GP","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MF","MT","MQ","NL","NO","PL","PM","PT","RE","RO","SE","SI","SK","YT"],c={ads:!1,personalisation:!1,performance:!1,necessary:!0},i={},r={personalisation:"ckps_.+|X-AB-iplayer-.+|ACTVTYMKR|BBC_EXAMPLE_COOKIE|BBCIplayer|BBCiPlayerM|BBCIplayerSession|BBCMediaselector|BBCPostcoder|bbctravel|CGISESSID|ed|food-view|forceDesktop|h4|IMRID|locserv|MyLang|myloc|NTABS|ttduserPrefs|V5|BBCScienceDiscoveryPlaylist_.+|bitratePref|correctAnswerCount|genreCookie|highestQuestionScore|incorrectAnswerCount|longestStreak|MSCSProfile|programmes-oap-expanded|quickestAnswer|score|servicePanel|slowestAnswer|totalTimeForAllFormatted|v|BBCwords|score|correctAnswerCount|highestQuestionScore|hploc|BGUID|BBCWEACITY|mstouch|myway|BBCNewsCustomisation|cbbc_anim|cbeebies_snd|bbcsr_usersx|cbeebies_rd|BBC-Latest_Blogs|zh-enc|pref_loc|m|bbcEmp.+|recs-.+|_lvd2|_lvs2|tick|_fcap_CAM1|_rcc2|xbc|__tbc|__adblocker",performance:"ckpf_.+|optimizely.*|BBCLiveStatsClick|id|_em_.+|cookies_enabled|mbox|mbox-admin|mc_.+|omniture_unique|s_.+|sc_.+|adpolicyAdDisplayFrequency|ns_session|ns_cookietest|ns_ux|NO-SA|tr_pr1|gvsurvey|bbcsurvey|si_v|obuid|mm_.+|mmid|mmcore.+|mmpa.+|dtCookie|dtPC|rxVisitor|rxvt|dtSa|dtLatC|__gads|__pc_.+",ads:"ckad_.+|rsi_segs|c",necessary:"optimizelyEndUserId|ckns_.+|blq\\.dPref|idrxvr|s1|atidvisitor|atuserid|sa_labels|_cb_ls|_cb_svref|_chartbeat2|_chartbeat5|_chartbeat4|_cb|_cb_cp|SSO2-UID|BBC-H2-User|rmRpDetectReal|bbcComSurvey|IDENTITY_ENV|IDENTITY|IDENTITY-HTTPS|IDENTITY_SESSION|BBCCOMMENTSMODULESESSID|bbcBump.+|IVOTE_VOTE_HISTORY|pulse|BBCPG|BBCPGstat|ecos\\.dt|_sm_au_[c|d]|AMAuthCookie|AM_REDIRECT_BACK_SERVER_URL|AWSELB|(devN|uatN|n)ightfall(Session|Refresh)Token|amlbcookie|i00|FCCDCF"};function a(e,o){o&&o(new Error(e))}e.isEU=function(e){return!!e&&-1!==n.indexOf(e.toUpperCase())},e.cookieOvenRequest=function(e,o,t){try{e.open("GET",o,!0),e.send()}catch(e){t&&t(e)}},e.cookieOvenClient=function(o,t,n,c){if("withCredentials"in new XMLHttpRequest){var i=[e.POLICY_COOKIE_NAME,e.EXPLICIT_COOKIE_NAME];try{if(!n)throw new Error("Cannot make request to cross domain cookie service when domain is not set.");if(i.indexOf(o)<=-1)throw new Error("Cookie name is not in the whitelist accepted by the cross domain cookie service.");var r={com:"co.uk","co.uk":"com"}[n.match(/(co.uk|com)/)[0]],s=function(e){var o=new XMLHttpRequest;return o.withCredentials=!0,o.onload=function(){e&&e(null,o.status)},o.onerror=function(t){a("Request to cross domain cookie service encountered an error with code"+o.status+". "+t,e)},o.onabort=function(){a("Request to cross domain cookie service was aborted.",e)},o.ontimeout=function(){a("Request to cross domain cookie service timed out.",e)},o}(c),u=function(e,o,t){return window.orbitData.partialCookieOvenUrl+"."+e+"/"+o+"/"+t}(r,o,t);e.cookieOvenRequest(s,u,c)}catch(e){c&&c(e)}}else c(new Error("Cannot make request to cross domain cookie service as this browser does not support XmlHttpRequest with credentials."))},e.set=function(o,t,n,c){var i,r;if(void 0!==t){r=C(i=b(o),t,n);var a=n&&n.crossDomainEnabled;e.isAllowed(i)&&a&&e.cookieOvenClient(o,t,n.domain,c)}else i=function(e){var o=(""+e).match(/^([^=]+)(?==)/);return o&&o.length?o[0]:""}(o),r=o;e.isAllowed(i)&&(document.cookie=r)},e.setPolicy=function(o){var n,c,i="?policy="+(o.ads?1:0)+(o.personalisation?1:0)+(o.performance?1:0),r=(n=window.location.host,t[n]||"https://www.".concat(e._getCurrentDomain(),"/cookieoven"));return fetch("".concat(r).concat(i),{credentials:"include"}),c="bbc.co.uk"===e._getCurrentDomain().match(/(bbc.co.uk|bbc.com)/)[0]?r.replace(".bbc.co.uk",".bbc.com"):r.replace(".bbc.com",".bbc.co.uk"),fetch("".concat(c).concat(i),{credentials:"include"})},e.isAllowed=function(o){return!(o&&o.match&&o.match(/^ckns_cookietest[0-9]*/))&&function(e){var o=JSON.stringify(e);if(void 0!==i[o])return i[o];var t="";for(var n in e)e.hasOwnProperty(n)&&r[n]&&!0===e[n]&&(t+=(t?"|":"")+r[n]);return i[o]=new RegExp("^("+(t||".*")+")$","i"),i[o]}(e.readPolicy()).test(o)},e.readPolicy=function(e){var o=m();return e?o[e]:o},e.analyticsPolicyString=function(){var e=m();return"ad"+ +e.ads+"ps"+ +e.personalisation+"pf"+ +e.performance},e.get=function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:document.cookie},e.isCookiePolicySet=function(){return null!==e.get(e.POLICY_COOKIE_NAME)},e.setImplicitPolicy=function(e){"gb"===e||"eu"===e?_({ads:!1,personalisation:!1,performance:!1,necessary:!0},!1):"row"===e&&_({ads:!0,personalisation:!0,performance:!0,necessary:!0},!1)},e.setDefaultCookiesSingleDomain=function(){_(c,!1)},e.setDefaultCookiesCrossDomain=function(){_(c,!0)},e.copyPolicyCookiesCrossDomain=function(o){_(e.readPolicy(),!0,o)},e.setCookiePolicyCrossDomain=function(e){_(e,!0)};var s=null;function u(e,o){if(void 0===e)return null;var t={};t.expires=new Date(0),o&&(t.domain=o.domain,t.path=o.path),document.cookie=C(e,"removed",t)}function l(e){var o=window.location.hostname.split(".");for(o.length,u(e),d(e);o.length&&-1==="|co.uk|com|".indexOf("|"+o.join(".")+"|");){if(o.length){var t=o.join(".");u(e,{domain:t}),d(e,t)}o.shift()}}function d(e,o){var t=window.location.pathname.split("/");for(u(e,o);t.length;){var n=t.join("/");""===n&&(n="/"),u(e,{domain:o,path:n}),u(e,{domain:"."+o,path:n}),t.pop()}}function m(){var o=new RegExp("(?:^|; ?)"+e.POLICY_COOKIE_NAME+"=(\\d)(\\d)(\\d)($|;)"),t=document.cookie.match(o);return t?{ads:!!+t[1],personalisation:!!+t[2],performance:!!+t[3],necessary:!0}:c}function p(){var e=new Date;return e.setYear(e.getFullYear()+1),e}function _(t,n,c){var i=p(),r=""+(t.ads?1:0)+(t.personalisation?1:0)+(t.performance?1:0),a=e._getCurrentDomain();e.set(e.POLICY_COOKIE_NAME,r,{domain:a,path:"/",expires:i,crossDomainEnabled:n,sameSite:"None",secure:o},c);var s=new Date(i.getTime());return s.setMonth(s.getMonth()+1),e.set("ckns_policy_exp",i.getTime(),{domain:a,path:"/",expires:s,sameSite:"None",secure:o}),t}function w(t,n,c){var i=p(),r=""+t,a=e._getCurrentDomain();return e.set(e.EXPLICIT_COOKIE_NAME,r,{domain:a,path:"/",expires:i,crossDomainEnabled:n,sameSite:"None",secure:o},c),t}function b(e){return(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29")}function C(e,t,n){n&&n.domain&&n.domain;var c=e+"="+(t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return c+=(n=n||{}).path?";path="+n.path:"",c+=n.domain?";domain="+n.domain:"",c+=n.expires?";expires="+n.expires.toUTCString():"",(c+=";sameSite="+n.sameSite||0)+(n.secure||o?";secure":"")}e._setPolicy=function(o,t){var n=e.readPolicy();n[o]=!!t,s=null===s?e.setPolicy(n):s.then((function(){return e.setPolicy(n)}))},e.isCookieExplicitSet=function(){return null!==e.get(e.EXPLICIT_COOKIE_NAME)},e.copyExplicitCookiesCrossDomain=function(o){w(e.get(e.EXPLICIT_COOKIE_NAME),!0,o)},e.setCookieExplicitCrossDomain=function(e){w(e,!0)},e.cookiesEnabled=function(){try{document.cookie="cookietest=1";var e=-1!==document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}},e.delete=function(e,o){u(e=b(e),o)},e.del=e.delete,e._crunch=function(){l("");for(var e=document.cookie.split(";"),o=0;o<e.length;o++){var t=e[o].split("=")[0].trim();this.isAllowed(t)||l(t)}},e._getCurrentDomain=function(){try{return window.location.hostname.toLowerCase().match(/.*(bbc\.co\.uk|bbc\.com)\/*/)[1]}catch(e){return}},e._getPolicy=e.readPolicy,function(e,o){var t=!1,n=!0,c=e.document,i=c.documentElement,r=c.addEventListener,a=r?"addEventListener":"attachEvent",s=r?"removeEventListener":"detachEvent",u=r?"":"on",l=function n(i){"readystatechange"===i.type&&"complete"!=c.readyState||(("load"===i.type?e:c)[s](u+i.type,n,!1),!t&&(t=!0)&&o.call(e,i.type||i))};if("complete"===c.readyState)o.call(e,"lazy");else{if(!r&&i.doScroll){try{n=!e.frameElement}catch(e){}n&&function e(){try{i.doScroll("left")}catch(o){return void setTimeout(e,50)}l("poll")}()}c[a](u+"DOMContentLoaded",l,!1),c[a](u+"readystatechange",l,!1),e[a](u+"load",l,!1)}}(window,(function(){e._crunch()})),window.addEventListener?window.addEventListener("beforeunload",(function(){e._crunch()}),!1):window.attachEvent?window.attachEvent("onbeforeunload",(function(){e._crunch()})):window.onbeforeunload=function(){e._crunch()};var f=e;window.bbccookies=f}();