(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[13],{497:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Pe}));var a=n(19),r=n.n(a),i=n(5),l=n.n(i),o=(n(24),n(22),n(7),n(29),n(18),n(68),n(91),n(0)),c=n.n(o),s=n(761),m=n(438),u=n(78),d=n(658),p=n(683),b=n(708),g=n(335),f=n(793),h=n(669),v=n(768),E=n(85),y=n(86),k=n(76),w=n(14),A=n(156),O=n(9),j=n(120),C=n(334),x=n(772),P=(n(289),n(33),n(11),n(57),n(41),n(342),n(144),n(47),n(21),function(e){return"relatedInternetLinks"===e}),S=function(e){return e.startsWith("https://www.bbc.co")||e.startsWith("http://www.bbc.co")||e.startsWith("/")?new URL(e,"https://www.bbc.co.uk").pathname.split("/")[1]:""},T=function(e,t){return{container:"MetadataStrip",label:"metadata-strip",metadata:{includedSnippets:(n=e,n.reduce((function(e,t){return e?"".concat(e,",").concat(t.label):t.label}),""))},url:t};var n},I=(n(17),n(25),n(36),n(10),n(39),n(2)),_=n.n(I),N=n(119),G=n(434),R=n(332),L=n(634),D=n(635),W=n(657),U=n(15),q=n(32),H=n(439),B=n(437),F=n(67),M=n(34),z=n.n(M),Y=n(16),K=n.n(Y),V=n(427),X={"jquery-1":"https://static.bbc.co.uk/frameworks/jquery/0.4.1/sharedmodules/jquery-1.7.2","bump-3":"https://emp.bbci.co.uk/emp/bump-3/bump-3","jquery-1.9":"https://static.bbc.co.uk/frameworks/jquery/0.4.1/sharedmodules/jquery-1.9.1","istats-1":"https://news.files.bbci.co.uk/include/vjassets/js/vendor/istats-1.0.0.min"},J=!1,Q=function(){var e=z()(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(V.a)();case 3:J||void 0===window.require||(window.require.config({paths:X}),J=!0),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Z=Q;function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=N.a.BlocksRenderer,ne=Object(O.a)("div",{target:"e1xue1i89",label:"ComponentWrapper"})("margin:",w.SPACING_6," ",(function(e){return e.leftAligned?"0":"auto"}),";",(function(e){return!e.emphasise&&"max-width: ".concat(s.a)}),";"),ae=Object(O.a)(ne,{target:"e1xue1i88",label:"HeadlineComponentWrapper"})("margin:",w.SPACING_8," ",(function(e){return e.leftAligned?"0":"auto"})," ",w.SPACING_6,";",(function(e){return e.isCrosshead&&"max-width: ".concat(s.b)}),";"),re=Object(O.a)(ne,{target:"e1xue1i87",label:"SocialEmbedComponentWrapper"})("div{margin:",w.SPACING_6," ",(function(e){return e.leftAligned?"0":"auto"}),";}iframe{max-width:100%;}div>blockquote{border:1px solid ",(function(e){return e.theme.colourPalette.border}),";border-radius:4px;padding:",w.SPACING_4,";max-width:",s.b,";margin:",w.SPACING_2," ",(function(e){return e.leftAligned?"0":"auto"}),";}span{display:block;",k.c," margin-bottom:",w.SPACING_2,";}.fb-post{max-width:100%;margin-bottom:",w.SPACING_2,";span{max-width:100%;}}"),ie=Object(O.a)(ne,{target:"e1xue1i86",label:"YouTubeSocialEmbedComponentWrapper"})({name:"rd737g",styles:"position:relative;width:100%;height:0;padding-bottom:56.25%;margin-bottom:0;iframe{max-width:100%;position:absolute;top:0;left:0;width:100%;height:100%;}"}),le=Object(O.a)("div",{target:"e1xue1i85",label:"RichTextComponentWrapper"})("margin:",w.SPACING_4," ",(function(e){return e.leftAligned?"0":"auto"}),";max-width:",s.b,";"),oe=Object(O.a)(ne,{target:"e1xue1i84",label:"IncludeComponentWrapper"})({name:"vdsegv",styles:"iframe{max-width:100%;}"}),ce=Object(O.a)("div",{target:"e1xue1i83",label:"Id2FixWrapper"})({name:"4qe63r",styles:"@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none) and (min-width: 599px){img{top:50%!important;left:50%!important;transform:translate(-50%, -50%)!important;height:auto!important;}}"}),se=function(e){var t=e.media,n=e.args,a=n.host,r=n.assetId,i=n.analytics,l=n.isAdvertisingEnabled,o=n.optimoId,s=n.languageCode,m=n.mode,u=Object(F.g)().colourPalette,d=u.accent,p=u.accentContrast,b="https://".concat(a,"/news/av-embeds/").concat(r,"/vpid/{vpid}"),g="https://".concat(a,"/ws/av-embeds/articles/").concat(o,"/{vpid}/").concat(s,"/"),f=ee(ee({},t),{},{smpAppName:"news",externalEmbedUrl:r?b:g,analytics:i,isAdvertisingEnabled:l,mediator:m&&m.toLowerCase().includes("testdata")?{host:"open.test.bbc.co.uk"}:void 0});return c.a.createElement(G.a,{media:f,uiOptions:{colour:d,foreColour:p,controls:{speed:!0}}})},me=function(e,t,n){var a=t.model,i=a.caption,l=a.emphasiseImage,o=a.copyright,s=a.media,m=a.image,u=t.type;return c.a.createElement(ne,{"data-component":e,leftAligned:n.leftAligned,emphasise:l},c.a.createElement(R.a,{caption:i,copyright:o,mediaType:u},"image"===u?c.a.createElement(H.a,r()({},m,{loading:n.loading})):c.a.createElement(se,{media:s,args:n})))},ue=function(e,t,n){var a,r=n.leftAligned,i=n.isAdvertisingEnabled,l=n.textBlockCount,o=void 0===l?0:l,s=[6,12,18],m=s.indexOf(o)+1;return c.a.createElement(c.a.Fragment,null,c.a.createElement(le,{"data-component":e,leftAligned:r},c.a.createElement(D.a,{blocks:t})),i&&s.includes(o)&&(a=m,c.a.createElement(L.a,{slotType:"piano-inline".concat(a),enable:!0})))},de=function(e,t,n){var a=t.model,i=a.html,l=a.type,o=a.idt2Image,s=n.leftAligned,m=n.nonce;if(!i||"idt2"===l&&!o)return null;if("idt2"===l&&/js\/verticalChart|horizontalChart|lineChart|pieChart|simpleMap|table\./.test(i)){var u=o.alt,d=o.src,p=o.srcSet;return c.a.createElement(ne,{"data-component":e,leftAligned:s},c.a.createElement(H.a,{alt:u,src:d,srcSet:p}))}if("edp"===l)return c.a.createElement(ne,{"data-component":"envelope-block",leftAligned:s},c.a.createElement(W.a,{type:"envelope",html:i,nonce:m}));var b="vj"===l?Z:null,g=ee({},"idt2"===l&&/js\/quotePic\./.test(i)&&{wrapper:ce});return c.a.createElement(oe,{"data-component":e,leftAligned:s,emphasise:!0},c.a.createElement(W.a,r()({html:i,nonce:m,prerequisites:b},g)))},pe=Object(O.a)(ne,{target:"e1xue1i82",label:"SocialComponentWrapper"})("div{margin:0 ",(function(e){return e.leftAligned?"0":"auto"}),";}"),be=function(e,t,n){var a=t.text,r=n.leftAligned;return c.a.createElement(ae,{"data-component":e,leftAligned:r,isCrosshead:!0},c.a.createElement(g.a,{level:"2",fontScale:"headlineSmall"},a))},ge=function(e,t,n){var a=n.leftAligned,r=1===t.model.level?"header":"div";return c.a.createElement(ae,{as:r,"data-component":e,leftAligned:a},c.a.createElement(te,{blocks:[t]}))},fe=function(e,t,n){var a=t.model.caption,r=a&&c.a.createElement(D.a,{blocks:a.model.blocks,container:c.a.Fragment}),i={type:t.type,model:ee(ee({},t.model),{},{caption:r})};return me(e,i,n)},he=Object(O.a)("div",{target:"e1xue1i81",label:"Gist"})("background:",(function(e){return e.theme.colourPalette.midground}),";",k.h,";border-top:",Object(U.a)(4)," solid ",(function(e){return e.theme.colourPalette.accent}),";color:",(function(e){return e.theme.colourPalette.secondary}),";padding:",w.SPACING_6," ",w.SPACING_4,";@media (min-width: ",q.l,"){padding:",w.SPACING_7,";}"),ve=Object(O.a)("p",{target:"e1xue1i80",label:"GistIntroduction"})(k.g,";strong{font-weight:bold;}"),Ee={headline:function(e,t){return ge("headline-block",e,t)},subheadline:function(e,t){return ge("subheadline-block",e,t)},timestamp:function(e,t){return function(e,t,n){var a,r=n.publishedTextTranslation,i=n.updatedTextTranslation,l=n.leftAligned,o=t.model,s=o.firstPublishedRelativeTimestamp,m=o.firstPublishedDateTime,u=o.lastPublishedRelativeTimestamp,d=o.lastPublishedDateTime,p=c.a.createElement(v.a,{items:[{label:r,text:s,timestamp:m}]});return u&&d>m&&(a=c.a.createElement(v.a,{items:[{label:null,text:"".concat(i," ").concat(u),timestamp:d}]})),c.a.createElement(ne,{"data-component":e,leftAligned:l},p,a)}("timestamp-block",e,t)},crosshead:function(e,t){return be("crosshead-block",e,t)},heading:function(e,t){return be("heading-block",e,t)},image:function(e,t){return function(e,t,n){var a=t.model,r=a.caption,i=a.image,l=r&&c.a.createElement(D.a,{blocks:r.model.blocks,container:c.a.Fragment}),o={type:t.type,model:ee(ee({},t.model),{},{copyright:null==i?void 0:i.copyright,caption:l})};return me(e,o,n)}("image-block",e,t)},media:function(e,t){return me("media-block",e,t)},orderedList:function(e,t){return ue("ordered-list-block",[e],t)},socialEmbed:function(e,t){return n="social-embed-block",a=t,r=e.model,i=r.html,l=r.source,o=r.href,s=a.leftAligned,m=a.socialEmbedTranslations[l],u=m.warningText,d=m.linkText,"youtube"===l?c.a.createElement(R.a,{caption:u},c.a.createElement(ie,{"data-component":n,leftAligned:s,emphasise:!0},c.a.createElement(W.a,{type:"noscript",html:i}))):c.a.createElement(re,{"data-component":n,leftAligned:s,emphasise:!0},c.a.createElement(W.a,{type:"noscript",html:i}),c.a.createElement(le,{leftAligned:s},u&&c.a.createElement("span",null,u),d&&c.a.createElement(B.a,{url:o},d)));var n,a,r,i,l,o,s,m,u,d},social:function(e,t){return function(e,t,n){var a=n.leftAligned;return c.a.createElement(pe,{"data-component":e,leftAligned:a},c.a.createElement(te,{blocks:[t]}))}("social-block",e,t)},text:function(e,t){return ue("text-block",e.model.blocks,t)},unorderedList:function(e,t){return ue("unordered-list-block",[e],t)},include:function(e,t){return de("include-block",e,t)},audio:function(e,t){return fe("audio-block",e,t)},video:function(e,t){return fe("video-block",e,t)},gist:function(e){return t="gist-block",n=e.model.blocks,c.a.createElement(ne,{"data-component":t},c.a.createElement(he,{role:"region","aria-labelledby":"gist-title"},c.a.createElement(m.a,{spacing:"4"},c.a.createElement(ve,{id:"gist-title"},c.a.createElement("strong",null,"At a glance")),c.a.createElement(D.a,{blocks:n,container:c.a.Fragment}))));var t,n}},ye=Object(O.a)("article",{target:"e1nh2i2l6",label:"ArticleWrapper"})(y.e," ",k.b," color:",(function(e){return e.theme.colourPalette.primary}),";margin:",w.SPACING_4," 0 ",w.SPACING_6," 0;padding-bottom:",w.SPACING_6,";"),ke=Object(O.a)("header",{target:"e1nh2i2l5",label:"HeadingWrapper"})("border-bottom:solid 1px ",(function(e){return e.theme.colourPalette.border}),";padding-bottom:",w.SPACING_6,";margin-top:",w.SPACING_8,";>",A.a,"{margin-top:",w.SPACING_4,";}"),we=Object(O.a)("li",{target:"e1nh2i2l4",label:"PromoItem"})("background:",(function(e){return e.theme.colourPalette.midground}),";margin:",w.SPACING_6," 0;"),Ae=Object(O.a)("div",{target:"e1nh2i2l3",label:"SectionHeaderWrapper"})("margin-bottom:",w.SPACING_6,";"),Oe=Object(O.a)("section",{target:"e1nh2i2l2",label:"SectionWrapper"})("margin:",w.SPACING_6," 0;padding-top:",w.SPACING_6,";",k.c,";max-width:",s.b,";"),je=Object(O.a)("div",{target:"e1nh2i2l1",label:"CommentsWrapper"})("margin:",w.SPACING_2," 0;"),Ce=Object(O.a)("div",{target:"e1nh2i2l0",label:"TagShareWrapper"})("display:flex;>",A.a,"{margin-left:",w.SPACING_2,";}"),xe=function(e){var t=e.componentName,n=e.items,a=e.heading,r=e.warningText,i=e.publishedText;return c.a.createElement(Oe,{"data-component":t},c.a.createElement(g.a,{level:"2",fontScale:"sectionHeading",type:"section-heading"},a),c.a.createElement(m.a,{as:"ul"},n.filter((function(e){return e.headlines.overtyped||e.headlines.shortHeadline||e.headlines.headline})).map((function(e,n){var a=e.headlines.overtyped||e.headlines.shortHeadline||e.headlines.headline,r=function(e){var t=e.index,n=e.label,a=e.url,r=e.id,i=e.containerIndex,l=void 0===i?1:i,o="cps_".concat(r),c={PAR:"".concat(o,"::").concat(l),CHD:"promo::".concat(t),EXT:P(r)?1:0};return{container:o,label:n,url:a,source:S(a),metadata:c}}({id:t.replace(/([-][a-z])/g,(function(e){return e.toUpperCase().replace("-","")})),label:a,index:n+1,url:e.url});return c.a.createElement(u.a,{tracking:r,key:n},(function(t){var r=t.trackRef;return c.a.createElement(we,{ref:r,key:n},c.a.createElement(f.a,{isContained:!0,headline:a,url:e.url,metadataStripItems:e.timestampRelative&&[{label:i,text:e.timestampRelative}],pageTypeIndicator:"MAP"===e.type?{iconType:"playback-avkx:play"}:void 0}))}))}))),r&&c.a.createElement("div",null,r))},Pe=function(e){var t=e.data,n=t.content.model.blocks,a=t.contributor,i=t.headline,s=t.metadata,m=s.assetId,f=s.timestampRelative,y=s.publishedDateTime,k=s.languageCode,w=s.translations,A=s.analytics.page,O=A.name,P=A.producer,S=s.options,I=S.allowPrintingSharingLinks,_=S.includeComments,N=t.seeAlsos,G=void 0===N?[]:N,R=t.relatedUrls,L=void 0===R?[]:R,D=t.topics,W=void 0===D?[]:D,U=e.uri,q=e.host,H=e.env,B=e.optimoId,F=e.currentPageAnalyticsDestination,M=e.isAdvertisingEnabled,z=e.leftAligned,Y=e.imageLoading,K=void 0===Y?"lazy":Y,V=Object(j.f)(),X=Object(C.b)(),J=X.mode,Q=X.nonce,Z=w.aroundTheBBC,$=w.externalLinksWarningText,ee=w.published,te=w.seeAlsos,ne=w.socialEmbed,ae=w.relatedInternetLinks,re=w.tagList,ie=w.updated,le={page:{producer:P,destination:F,name:O}},oe=0,ce=n.map((function(e){if(!Ee[e.type])return null;if("text"===e.type)return oe+=1,Ee[e.type](e,{leftAligned:z,isAdvertisingEnabled:M,textBlockCount:oe});if("socialEmbed"===e.type)return Ee[e.type](e,{leftAligned:z,socialEmbedTranslations:ne});if("media"===e.type||"audio"===e.type||"video"===e.type)return Ee[e.type](e,{host:q,assetId:m,leftAligned:z,analytics:le,isAdvertisingEnabled:M,optimoId:B,languageCode:k,mode:J});if("include"===e.type){var t=!1;return["edp","idt2","vj"].includes(e.model.type)&&(t=!0),t&&e.model?Ee[e.type](e,{leftAligned:z,nonce:Q}):null}return"image"===e.type?Ee[e.type](e,{leftAligned:z,loading:K}):"timestamp"===e.type?Ee[e.type](e,{leftAligned:z,publishedTextTranslation:ee,updatedTextTranslation:ie}):Ee[e.type](e,{leftAligned:z})})).filter(Boolean),se=W.filter((function(e){return e.isEvent})),me=l()(se,1)[0],ue={URN:m,STY:"article"},de=L.filter((function(e){var t=e.url;return t&&!t.includes("www.bbc.")})),pe=L.filter((function(e){var t=e.url;return t&&t.includes("www.bbc.")})),be=f||_,ge=[];return f&&ge.push({label:ee,iconType:"time-and-date:clock",text:f,timestamp:y}),_&&ge.push({label:"comments",iconType:"participate:comments",text:"Comments",url:"#comments",onClick:function(){Object(u.b)({container:"MetadataStrip",label:"metadata-strip",metadata:{snippet:"comments"},url:i},null,"select")}}),c.a.createElement(ye,null,i&&c.a.createElement(ke,null,c.a.createElement(g.a,{level:"1",fontScale:"headlineLarge"},i),a&&c.a.createElement(h.a,r()({},a,a.image&&{imageSrc:Object(x.a)(a.image.iChefRecipe,64)})),be&&c.a.createElement(u.a,{tracking:T(ge,i),trackClicks:!1},(function(e){var t=e.trackRef;return c.a.createElement(v.a,{items:ge,trackRef:t})})),c.a.createElement(Ce,null,I&&c.a.createElement(d.a,{mode:"icon-only",horizontalAlignment:"left",trackingMetadata:ue}),me&&c.a.createElement(p.a,{tags:[me]},c.a.createElement(E.a,null,re)))),ce.map((function(e,t){return c.a.createElement(o.Fragment,{key:t},e)})),_&&c.a.createElement(je,null,c.a.createElement(b.a,{assetUri:U,assetTitle:i,meta:{env:H,host:q,location:V}})),W.length>0&&c.a.createElement(Oe,{"data-component":"tag-list"},c.a.createElement(p.a,{tags:W,tracking:{container:"cps_tagList",source:"news"}},c.a.createElement(Ae,null,c.a.createElement(g.a,{level:"2",fontScale:"sectionHeading",type:"section-heading"},re)))),G.length>0&&c.a.createElement(xe,{componentName:"see-alsos",items:G,heading:te,publishedText:ee}),pe.length>0&&c.a.createElement(xe,{componentName:"around-the-bbc",items:pe,heading:Z,publishedText:ee}),de.length>0&&c.a.createElement(xe,{componentName:"related-internet-links",items:de,heading:ae,warningText:$,publishedText:ee}))}},683:function(e,t,n){"use strict";n(17),n(25),n(22),n(36),n(10),n(39);var a=n(2),r=n.n(a),i=(n(24),n(21),n(0)),l=n.n(i),o=n(86),c=n(76),s=n(14),m=n(15),u=n(78),d=n(774),p=n(9);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=Object(p.a)("div",{target:"ed0g1kj1",label:"StyledTagContainer"})(o.e," ",c.c,";"),h=Object(p.a)("a",{target:"ed0g1kj0",label:"StyledLink"})("display:flex;color:",(function(e){return e.theme.colourPalette.primary}),";border:1px solid ",(function(e){return e.theme.colourPalette.accentBorder}),";font-weight:bold;padding:0 ",s.SPACING_4,";text-decoration:none;min-height:calc(",Object(m.a)(44)," - 2px);align-items:center;word-break:break-word;&:hover,&:focus{background:",(function(e){return e.theme.colourPalette.accent}),";color:",(function(e){return e.theme.colourPalette.accentContrast}),";}&:after{content:'';min-height:inherit;}");t.a=function(e){var t=e.children,n=e.tags,a=e.tracking;return l.a.createElement(f,null,t,l.a.createElement(d.a,{as:"ul"},n.map((function(e,t){if(!a)return l.a.createElement("li",{key:t},l.a.createElement(h,{href:e.url},e.title));var n=a.container,r=a.containerIndex,i=void 0===r?1:r,o=g(g({},a),{},{label:e.title,url:e.url,metadata:{PAR:n&&"".concat(n,"::").concat(i),CHD:"link::".concat(t+1),EXT:0}});return l.a.createElement(u.a,{tracking:o,key:t},(function(n){var a=n.trackRef;return l.a.createElement("li",{key:t,ref:a},l.a.createElement(h,{href:e.url},e.title))}))}))))}},708:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(34),l=n.n(i),o=(n(7),n(159),n(21),n(16)),c=n.n(o),s=n(0),m=n.n(s),u=n(9),d=n(14),p=n(120),b=n(118),g=n(338),f=n(78),h=(n(47),function(e){var t=e.event,n=e.assetUri,a=e.assetTitle;return{container:"Comments",label:t,variant:"",metadata:e.metadata,source:n.split("/")[1],url:a}});var v=Object(u.a)("p",{target:"ec5dr224",label:"MessageContainer"})("margin:",d.SPACING_2," 0;"),E=Object(u.a)(v,{target:"ec5dr223",label:"EnvironmentWarningHeader"})({name:"hwfcu5",styles:"color:red"}),y=Object(u.a)("iframe",{target:"ec5dr222",label:"StylediFrame"})({name:"qpq9k7",styles:"width:200px;min-width:100%;overflow:hidden"}),k=Object(u.a)("span",{target:"ec5dr221",label:"IconContainer"})({name:"1bo2wjz",styles:"display:inline-block;width:1rem;height:1rem;vertical-align:-0.125em"}),w=Object(u.a)("div",{target:"ec5dr220",label:"CommentsAnchor"})("position:relative;top:-",d.SPACING_4,";"),A=function(){var e=l()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.b)(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){return m.a.createElement(v,null,m.a.createElement(k,null,m.a.createElement(b.a,{type:"labels:warning"}))," There was a problem loading the comments. Please try again.")},j=function(){return m.a.createElement(E,null,"You are viewing a live comments forum, do not post, reply or rate comments!")};t.a=function(e){var t=e.assetUri,n=e.assetTitle,a=e.meta,i=a.env,l=a.host,o=a.location,c="comments",u="comp-comments-button",d=o.hash==="#".concat(c)||o.hash==="#".concat(u),b="live"!==i?Object(p.d)(o.search,"morph_env"):null,v="https://".concat(l).concat(t),E=Object(s.useState)(d),k=r()(E,2),C=k[0],x=k[1],P=Object(s.useState)(!1),S=r()(P,2),T=S[0],I=S[1],_=Object(s.useState)(!1),N=r()(_,2),G=N[0],R=N[1],L=Object(s.useState)(0),D=r()(L,2),W=D[0],U=D[1],q=Object(s.useState)(!0),H=r()(q,2),B=H[0],F=H[1],M=Object(s.useState)(1),z=r()(M,2),Y=z[0],K=z[1],V=Object(s.useRef)(null),X=Object(s.useRef)(null),J=function(){K(Y+1),I(!1),x(!0)};Object(s.useEffect)((function(){var e=h({event:"comments-component",assetUri:t,assetTitle:n,metadata:{ANC:d}});window.Reverb?A(e):setTimeout((function(){A(e)}),2e3)}),[t,n,d]),Object(s.useEffect)((function(){d&&x(!0)}),[d]);var Q,Z="".concat("localhost"===i?"https://www.test.bbc.co.uk/":"/","comments/embed").concat(t,"?embeddingPageUri=").concat(v,"%23").concat(c,"&embeddingPageTitle=").concat(encodeURIComponent(n)).concat(b?"&morph_env=".concat(b):"");return Q=Object(s.useCallback)((function(e){var a=e.data,r=a.commentsIFrameHeight,i=a.commentsErrorCode,l=a.commentsScrollToTop;r&&(0===W&&V.current.focus(),U("".concat(r,"px"))),i&&(A(h({event:"comments-component-error",assetUri:t,assetTitle:n,metadata:{ANC:d,HSC:i,TRY:Y-1}})),I(!0),x(!1)),l&&X.current.scrollIntoView()}),[W,n,t,d,Y]),Object(s.useEffect)((function(){return window.addEventListener("message",Q),function(){return window.removeEventListener("message",Q)}}),[Q]),Object(s.useEffect)((function(){var e=C&&0===W,t=e||!C;R(e),F(t)}),[C,W,G]),m.a.createElement(m.a.Fragment,null,m.a.createElement(w,{id:c,ref:X}),m.a.createElement(w,{id:u}),m.a.createElement("div",{"aria-live":"polite"},"live"===b&&m.a.createElement(j,null),B&&m.a.createElement(f.a,{tracking:h({event:"view-comments",assetUri:t,assetTitle:n,metadata:{ANC:d,TRY:Y}})},(function(e){var t=e.trackRef;return m.a.createElement(g.a,{iconType:G?"playback-avkx:loading":"participate:comments",trackRef:t,onClick:J},"View comments")})),T&&m.a.createElement(O,null),C&&m.a.createElement(y,{src:Z,title:"Comments",height:W,ref:V,scrolling:"no"})))}}}]);