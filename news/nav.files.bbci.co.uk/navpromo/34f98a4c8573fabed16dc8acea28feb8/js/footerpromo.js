/*! For license information please see footerpromo.js.LICENSE.txt */
!function(){var e={138:function(e,t,n){var o,r;o=[n(403),n(221),n(566),n(103)],void 0===(r=function(e,t,n,o){"use strict";return{init:function(e,t){var n=this,o={section:bbcpage.getSection(),producer:bbcpage.getProducer(),destination:bbcpage.getDestination(),variant:t},r=Object.keys(o),i=r.map((function(e){return o[e]}));Promise.all(i).then((function(t){var o={};t.forEach((function(e,t){o[r[t]]=e})),n.loadPromo(o,e)})).catch((function(){n.loadPromo({variant:t},e)}))},loadPromo:function(n,r){var i=function(e,t,n){var o=(n?n.location:window.location).protocol,r=e+"/card?"+Object.keys(t).filter((function(e){return t[e]})).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&");return o.match(/s:/i)&&(r=r.replace("http://www.","https://ssl.")),r}(r,n,window),a=document.getElementById("navp-orb-footer-promo");this.load(i,{onSuccess:function(e){if(function(e,t,n){return o.css(t)&&o.html(e,n)}(a,e.style,e.html)){var n=window.getComputedStyle(a).getPropertyValue("background-image"),r=/url\((['"])?(.*?)\1\)/gi.exec(n);if(r)for(var i=a.getElementsByClassName("navp-item"),c=0,u=0|i.length;c<u;c=c+1|0){var l=JSON.parse(i[c].getAttribute("data-v-group"));l.image=r[2],i[c].setAttribute("data-v-group",JSON.stringify(l))}a.parentNode.className=a.parentNode.className+" orb-footer-promo-loaded",t.load(document.querySelectorAll(".navp-container"))}},onError:function(){var t=parseInt(e.get("ckns_nav_promofail"))||0;t++,document.cookie="ckns_nav_promofail="+t+"; expires="+new Date((new Date).getTime()+6e5).toGMTString()+";path=/;"}})},load:function(t,o){var r=o.onSuccess||function(){},i=o.onError||function(){},a=o.onAlways||function(){};n(t,(function(t){t?"none"===t.status?e.del("ckns_nav_promofail"):"success"===t.status?(r(t),e.del("ckns_nav_promofail")):i():i(),a()}),{timeout:6e4,error:function(){i(),a()},callbackName:"navpromo"})}}}.apply(t,o))||(e.exports=r)},103:function(e,t){var n;void 0===(n=function(){return t={css:function(e){if("string"!=typeof e||""===e)return!1;try{var t=document.createElement("style");return t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t),!0}catch(e){return!1}},html:function(e,t){return!(!e||!e.tagName||""===t||(e.innerHTML=t,0))}}}.apply(t,[]))||(e.exports=n)},403:function(e){var t={del:function(e,t){!function(e,t){if(void 0===e)return null;var n={};n.expires=new Date(0),t&&(n.domain=t.domain,n.path=t.path),document.cookie=function(e,t,n){n&&n.domain&&n.domain,t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var o="https:"===document.location.protocol,r=e+"="+t;return r+=n.path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toUTCString():"",(r+=";sameSite="+n.sameSite||0)+(n.secure||o?";secure":"")}(e,"removed",n)}(e=function(e){return(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29")}(e),t)},get:function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:document.cookie}};e.exports=t},566:function(e,t){var n;void 0===(n=function(){var e=1;return function(t,n,o){var r,i,a,c=!1;r=(o=o||{}).callbackName?o.callbackName:"jsonpcb"+e++,o.timeout&&(a=setTimeout((function(){c=!0,o.error&&o.error()}),o.timeout));for(var u,l,s=r.split("."),d=s[s.length-1],p=window,m=0,f=s.length;m<f-1;m++)p=p[s[m]];p[d]=function(e){clearTimeout(a),c||n(e),i&&i.parentNode&&i.parentNode.removeChild(i),p[d]=void 0},u=t+(-1===t.indexOf("?")?"?":"&")+"callback="+r,(l=document.createElement("script")).src=u,document.getElementsByTagName("head")[0].appendChild(l),i=l}}.apply(t,[]))||(e.exports=n)},221:function(e,t,n){var o,r;o=[n(214),n(375),n(897)],r=function(e,t,n){"use strict";var o=0,r=0,i=0,a=0,c=8,u=10,l=".navp-container",s=".navp-item",d=function(e){var t=e||document.querySelector(l),n=t.querySelector(".navp-brand-assets-container"),u=t.querySelectorAll(s)[1];t.querySelector(".navp-wrapper").style.height="",c=window.innerWidth<600?8:16,u&&n&&(o=Math.round(parseInt(u.offsetWidth)+c),r=Math.round(parseInt(u.clientHeight)),a=parseInt(n.clientWidth),i=Math.ceil(a-a%o)||Math.round(o)),t.querySelector(".navp-wrapper").style.height=r+t.querySelector(".navp-brand-assets-container").offsetTop+"px"},p=function(e){r||(r=document.querySelector(l).querySelector(s).clientHeight||0);var t=r-75+22;e.style.cssText="top:-"+t+"px"},m=function(e,t){var n=document.createElement("button");return n.className=t,n.setAttribute("aria-hidden","true"),n.setAttribute("tabindex","-1"),n.innerHTML='<span class="hp-slider-controls__btn-off-screen">'+e+"</span>",p(n),n},f=function(e,t,n){e.next.disabled=t.scrollLeft>=n,n&&(e.prev.disabled=t.scrollLeft<=0)},v=function(e){return parseInt(e.scrollWidth)-a},h=function(t,n,o,r,i){var a=t.scrollLeft;1===r?a-=n:-1===r&&(a+=n),e.scrollTo(t,a,500,e.easing.easeOutCubic,(function(){f(o,t,v(t)),"function"==typeof i&&i()}))},w=function(e){var t=e.controls.progress.querySelector("div"),n=e.controls.progress.clientWidth/e.slider.scrollWidth;t&&(t.style.cssText="width:"+(a*n).toFixed(3)+"px; left:"+(e.slider.scrollLeft*n).toFixed(3)+"px")},g=function(e,t){var n=e.slider,r=n.scrollLeft,u=r%i,l=a%o+c;return"right"!=t?r>=v(n)?Math.ceil(o-l):i+1:u?Math.ceil(i-u):i},y=n.debounce((function(){b()}),500),b=function(){var e=document.querySelector(l);e&&(e.getBoundingClientRect().top,e.getBoundingClientRect().bottom,window.innerHeight)},x=function(e){var n=e.querySelector(".navp-brand-assets-container");if(e.querySelectorAll(s)[1]&&n){var r=e,i=document.createElement("div"),c=document.createElement("div");i.className="hp-slider-controls navp-controls",c.className="navp-progressbar",c.appendChild(document.createElement("div"));var u=m("Next","navp-slider-controls-btn next"),l=m("Previous","navp-slider-controls-btn previous");l.disabled=!0,i.appendChild(c),i.appendChild(l),i.appendChild(u),r.appendChild(i);var b={slider:n,controls:{next:u,prev:l,progress:c}};d(e),i.style.display="block",w(b),function(e,n){e.controls.prev.onclick=function(){h(e.slider,g(e,"left"),e.controls,1)},e.controls.next.onclick=function(){h(e.slider,g(e,"right"),e.controls,-1)},e.slider.onscroll=function(){Math.round((e.slider.scrollLeft+a)/o),f(e.controls,e.slider,v(e.slider)),w(e)},t("scroll",y,!1),t("resize",(function(){d(),f(e.controls,e.slider,v(e.slider)),w(e),p(e.controls.prev),p(e.controls.next)})),t("pageshow",(function(e){d()}),!1)}(b),i.style.display="",y()}};return{load:function e(t){var n=document.querySelector("li.navp-card img");n&&n.height>0?(function(e){for(var t=("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),n=0;n<e.length;n++)x(e[n]),t&&(e[n].className+=" no-touch-hover")}(t),window.setTimeout((function(){document.querySelector(".navp-brand-assets-container").scrollLeft=1,document.querySelector(".navp-brand-assets-container").scrollLeft=0}),500),function(){var e=navigator.platform,t=/win32|macintel|linux/i.test(e),n=/firefox/i.test(navigator.userAgent),o=document.querySelectorAll(s),r=0,i=o.length;if(n&&t)for(;r<i;r++)o[r].querySelector("a.np-link").removeAttribute("aria-label"),o[r].querySelector(".item").removeAttribute("aria-hidden")}()):u&&window.setTimeout((function(){e(t),u--}),100)}}}.apply(t,o),void 0===r||(e.exports=r)},375:function(e,t,n){var o;void 0===(o=function(e){"use strict";return function(e,t,n){n||(n=window),n.addEventListener?n.addEventListener(e,t,!1):n.attachEvent&&n.attachEvent("on"+e,t)}}.apply(t,[n]))||(e.exports=o)},214:function(e,t,n){var o;void 0===(o=function(e){"use strict";var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};return{scrollTo:function(e,n,o,r,i){var a=Date.now(),c=e.scrollLeft;if(c===n)return!1;t((function u(){var l,s=1<(l=(Date.now()-a)/o)?1:l,d=r(s);e.scrollLeft=function(e,t,n){return Math.ceil(e*(n-t)+t)}(d,c,n),s<1&&(void 0!==i&&i(),t(u))})),window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||clearTimeout},easing:{easeOutCubic:function(e){return Math.pow(e-1,3)+1}},requestAnimationShim:t}}.apply(t,[n]))||(e.exports=o)},897:function(e,t,n){var o;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}e=n.nmd(e),function(){var i,a=/^\[object .+?Constructor\]$/,c={function:!0,object:!0},u=c[r(t)]&&t&&!t.nodeType&&t,l=c[r(e)]&&e&&!e.nodeType&&e;u&&l&&"object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object&&n.g;var s,d,p=Object.prototype,m=Function.prototype.toString,f=p.hasOwnProperty,v=p.toString,h=RegExp("^"+m.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=Math.max;function g(){}var y=("now",(S(d=null==(s=Date)?i:s.now)?d:i)||function(){return(new Date).getTime()});function b(e){return x(e)&&"[object Function]"==v.call(e)}function x(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function S(e){return null!=e&&(b(e)?h.test(m.call(e)):function(e){return!!e&&"object"==r(e)}(e)&&a.test(e))}g.debounce=function(e,t,n){var o,r,a,c,u,l,s,d=0,p=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");if(t=t<0?0:+t||0,!0===n){var f=!0;m=!1}else x(n)&&(f=!!n.leading,p="maxWait"in n&&w(+n.maxWait||0,t),m="trailing"in n?!!n.trailing:m);function v(t,n){n&&clearTimeout(n),r=l=s=i,t&&(d=y(),a=e.apply(u,o),l||r||(o=u=i))}function h(){var e=t-(y()-c);e<=0||e>t?v(s,r):l=setTimeout(h,e)}function g(){v(m,l)}function b(){if(o=arguments,c=y(),u=this,s=m&&(l||!f),!1===p)var n=f&&!l;else{r||f||(d=c);var v=p-(c-d),w=v<=0||v>p;w?(r&&(r=clearTimeout(r)),d=c,a=e.apply(u,o)):r||(r=setTimeout(g,v))}return w&&l?l=clearTimeout(l):l||t===p||(l=setTimeout(h,t)),n&&(w=!0,a=e.apply(u,o)),!w||l||r||(o=u=i),a}return b.cancel=function(){l&&clearTimeout(l),r&&clearTimeout(r),d=0,r=l=s=i},b},g.isFunction=b,g.isNative=S,g.isObject=x,g.now=y,g.VERSION="3.10.1","object"==r(n.amdO)&&n.amdO&&((o=function(){return g}.call(t,n,t,e))===i||(e.exports=o))}.call(this)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.amdO={},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e,t,o,r=document.currentScript.getAttribute("data-base"),i=document.currentScript.getAttribute("data-variant"),a=0,c=0;function u(){clearInterval(e),Promise.resolve().then((function(){var e=[n(138)];(function(e){e.init(r,i)}).apply(null,e)})).catch(n.oe)}function l(){return Math.abs(window.scrollY||document.body.scrollTop||document.documentElement.scrollTop)}-1!==(o=navigator.userAgent.toLowerCase()).indexOf("msie")&&parseInt(o.split("msie")[1],10)<=10||(parseInt("ckns_nav_promofail"?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent("ckns_nav_promofail").replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:document.cookie)||0)>=3||window.bbcpage.getLanguage().then((function(n){"en"===n&&window.bbcuser.isUKCombined().then((function(n){n&&((c=Math.abs(document.body.offsetHeight))<window.innerHeight+300||c-l()<1500?u():(window.onscroll=function(){t=!0},e=setInterval((function(){var e;t&&(e=l(),Math.abs(a-e)<=5||(e>a&&c-e<=1500&&u(),a=e),t=!1)}),250)))}))}))}()}();